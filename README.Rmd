---
title: "`EWCE`: `E`xpression `W`eighted `C`elltype `E`nrichment"
author: "<h4>Alan Murphy, Brian Schilder, and Nathan Skene</h4>"
date: "<h4>`r format( Sys.Date(), '%b-%d-%Y')`</h4>"
bibliography: inst/cit/EWCE.bib
csl: inst/cit/nature.csl
output: 
    rmarkdown::github_document:
vignette: >
  %\VignetteIndexEntry{README}
  %\VignetteEngine{knitr::rmarkdown}
  %\usepackage[utf8]{inputenc}    
---

```{r, echo=FALSE}
knitr::opts_chunk$set(tidy = FALSE, 
                      message = FALSE) 
```

```{r setup, include = FALSE}
#### Package name ####
pkg <- desc::desc_get("Package")
#### Username of GitHub account ####
repo <- rev(strsplit(desc::desc_get_urls()[[1]],"/")[[1]])[2]
```


<!-- badges: start -->
`r badger::badge_devel(color="black")`
[![R build status](https://github.com/`r repo`/`r pkg`/workflows/R-CMD-check-bioc/badge.svg)](https://github.com/`r repo`/`r pkg`/actions) 
[![R build status](https://github.com/`r repo`/`r pkg`/workflows/DockerHub/badge.svg)](https://github.com/`r repo`/`r pkg`/actions) 
[![BioC status](http://www.bioconductor.org/shields/build/release/bioc/`r pkg`.svg)](https://bioconductor.org/checkResults/release/bioc-LATEST/`r pkg`)
[![platforms](http://www.bioconductor.org/images/shields/availability/all.svg)](https://bioconductor.org/packages/devel/bioc/html/`r pkg`.html#archives)
[![](https://img.shields.io/badge/doi-10.18129/B9.bioc.`r pkg`%20-green.svg)](https://doi.org/10.18129/B9.bioc.`r pkg` )
[![](https://img.shields.io/github/last-commit/`r repo`/`r pkg`.svg)](https://github.com/`r repo`/`r pkg`/commits/master)
[![](https://codecov.io/gh/`r repo`/`r pkg`/branch/master/graph/badge.svg)](https://codecov.io/gh/`r repo`/`r pkg`)
[![License: GPL-3](https://img.shields.io/badge/license-GPL--3-blue.svg)](https://cran.r-project.org/web/licenses/GPL-3)
`r badger::badge_bioc_download(color="blue", by="total")`
<!-- badges: end -->

<img height="200" src="https://github.com/bschilder/EWCE/raw/DelayedArray/inst/hex/EWCE.png">

# Introduction

The *EWCE* R package is designed to facilitate expression weighted cell type
enrichment analysis as described in our *Frontiers in Neuroscience* 
paper [@skene_2016]. *EWCE* can be applied to any gene list. 
 
Using *EWCE* essentially involves two steps:

1. Prepare a single-cell reference; i.e. CellTypeDataset (CTD). Alternatively, 
you can use one of the pre-generated CTDs we provide via the package `ewceData`
(which comes with *EWCE*).  
2. Run cell type enrichment on a user-provided gene list.

# Installation

*EWCE* requires [`R>=4.1`](https://www.r-project.org/) 
and `Bioconductor>=1.4`. 
To install *EWCE* on Bioconductor run:

```{r, eval=FALSE}
if (!require("BiocManager")){install.packages("BiocManager")}

BiocManager::install("EWCE") 
```

# [Documentation site](https://nathanskene.github.io/EWCE)

# Vignettes

## [Getting started](https://nathanskene.github.io/EWCE/articles/EWCE.html)

A minimal example to get started with running *EWCE*.

## [Extended examples](https://nathanskene.github.io/EWCE/articles/extended.html)

Example *EWCE* enrichment tests with in-depth explanations of each step. 

## [Creating CellTypeDatasets](https://nathanskene.github.io/EWCE/articles/create_CTD.html)

Instructions on how to create new make new CellTypeDataset references
to use with *EWCE*.

## [Conditional examples](https://nathanskene.github.io/EWCE/articles/conditional.html)

Examples and explanations of conditional cell type enrichment tests 
(e.g. controlling for a dominant cell type signal) .

## [EWCE: Transcriptome examples](https://nathanskene.github.io/EWCE/articles/transcriptomes.html)

Additional applications of *EWCE* to transcriptomic studies.

## [Docker](https://nathanskene.github.io/EWCE/articles/docker.html)

Dedicated *EWCE* Docker container usage.

[Docker](https://www.docker.com/) containers with 
the latest version of `EWCE` are regularly pushed to [Dockerhub](https://hub.docker.com/repository/docker/neurogenomicslab/ewce).

# Troubleshooting

If you have any problems, please do submit an [Issue here on GitHub](https://github.com/nathanskene/EWCE/issues) with a reproducible example.

# Citation

If you use EWCE, please cite:

> [Skene, et al. Identification of Vulnerable Cell 
Types in Major Brain Disorders Using Single Cell Transcriptomes 
and Expression Weighted Cell Type Enrichment. Front. Neurosci, 2016.](https://www.frontiersin.org/articles/10.3389/fnins.2016.00016/full)

If you use the cortex/hippocampus single-cell data associated 
*EWCE*/*ewceData* this package then please cite the following:

> [Zeisel, et al. Cell types in the mouse cortex and
hippocampus revealed by single-cell RNA-seq. Science, 2015.
](http://www.sciencemag.org/content/early/2015/02/18/science.aaa1934.abstract)


# Session Info

<details>

```{r Session Info}
utils::sessionInfo()
```

</details>


# References

